<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>Enable Earth: เพิ่ม Plot</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@600&display=swap" rel="stylesheet">
  <style>
    body {
      min-height: 100vh;
      background: linear-gradient(135deg, #edf6f4 0%, #d2ffe8 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: 'Kanit', Arial, sans-serif;
    }
    .form-card {
      background: #fff;
      border-radius: 22px;
      box-shadow: 0 8px 40px #2da87914, 0 2px 8px #0002;
      padding: 36px 24px 30px 24px;
      max-width: 370px;
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      animation: fadein .8s;
    }
    @keyframes fadein { from {opacity: 0; transform: translateY(28px);} to {opacity:1;transform:none;} }

    .form-card h2 {
      color: #20be7b;
      font-size: 2rem;
      margin-bottom: 18px;
      letter-spacing: 1px;
      text-align: center;
      font-weight: 700;
    }
    form {
      width: 100%;
      display: flex;
      flex-direction: column;
      gap: 14px;
    }
    input[type=text], input[type=number] {
      width: 100%;
      padding: 13px 13px;
      font-size: 1.12rem;
      border-radius: 11px;
      border: 1.7px solid #e5eee7;
      background: #f5fdfb;
      margin-bottom: 2px;
      transition: border .17s;
      font-family: inherit;
      outline: none;
    }
    input[type=text]:focus, input[type=number]:focus {
      border: 1.7px solid #20be7b;
      background: #e4fcf0;
    }
    button[type=submit] {
      width: 100%;
      padding: 15px 0;
      font-size: 1.13rem;
      font-weight: 700;
      color: #fff;
      background: linear-gradient(90deg,#22ca88 80%,#9ef3ca);
      border: none;
      border-radius: 14px;
      margin-top: 14px;
      box-shadow: 0 1px 12px #7cf8b649;
      cursor: pointer;
      transition: background .16s, transform .07s;
      letter-spacing: 1px;
    }
    button[type=submit]:active {
      background: #1aa060;
      transform: scale(.99);
    }
    .msg {
      margin: 14px 0 0 0;
      font-weight: 600;
      font-size: 1rem;
      text-align: center;
      color: #18a064;
      min-height: 26px;
      transition: color .2s;
    }
    .msg.error { color: #e43c3c; }
    @media (max-width: 500px){
      .form-card { padding: 23px 8px 20px 8px; }
      .form-card h2 { font-size: 1.33rem; }
    }
  </style>
</head>
<body>
  <div class="form-card">
    <h2>เพิ่มข้อมูล Plot ใหม่</h2>
    <form id="dataform" autocomplete="off">
      <input type="text" name="plot_id" placeholder="Plot ID (เช่น MJD001)" required>
      <input type="number" step="0.01" name="carbon_credit" placeholder="Carbon Credit (เช่น 4.1)" required>
      <input type="text" name="longitude" placeholder="Longitude (ลองจิจูด)" required>
      <input type="text" name="latitude" placeholder="Latitude (ละติจูด)" required>
      <button type="submit">+ เพิ่มข้อมูล</button>
    </form>
    <div class="msg" id="msg"></div>
  </div>
  <script>
    const apiURL = 'https://script.google.com/macros/s/AKfycbwjsnvnfVmURYof6Gb0xJrPxjbwSs6x7jjemDylWxw8J__SxnLale4BODtp0Vt8BNLgsQ/exec'; // ของคุณ

    document.getElementById('dataform').onsubmit = async function(e) {
      e.preventDefault();
      const formData = new FormData(e.target);
      const msg = document.getElementById('msg');
      msg.textContent = "กำลังส่งข้อมูล...";
      msg.className = "msg";
      try {
        await fetch(apiURL, {
          method: 'POST',
          body: formData
        });
        msg.textContent = "ส่งข้อมูลสำเร็จ!";
        msg.className = "msg";
        e.target.reset();
      } catch(err) {
        msg.textContent = "ส่งข้อมูลไม่สำเร็จ";
        msg.className = "msg error";
      }
    };
  </script>
</body>
</html>
