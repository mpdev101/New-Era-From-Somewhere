<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <title>Enable Earth - ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ü‡∏≠‡∏£‡πå‡∏°</title>
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Kanit:400,700&display=swap">
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
  <style>
    :root {
      --primary: #04723d;
      --accent: #198754;
      --bg: #f9fbe8;
      --white: #fff;
      --shadow: 0 4px 18px 0 #0001;
    }
    body {
      margin: 0; background: var(--bg); font-family: 'Kanit', Arial, sans-serif; color: #1a2b2b;
    }
    header {
      background: #024a18;
      color: #fff; display: flex; align-items: center; padding: 12px 0 8px 0;
      box-shadow: var(--shadow); justify-content: center; flex-direction: column;
    }
    .logo { height: 48px; margin-bottom: 4px; cursor:pointer; }
    .title {
      font-size: 1.5em; font-weight: bold; letter-spacing:0.5px;
    }
    .subtitle {
      font-size: 1em; opacity: .85; margin-bottom: 8px;
    }
    .form-container {
      background: var(--white);
      max-width: 420px; margin: 28px auto 0 auto; border-radius: 14px;
      box-shadow: var(--shadow); padding: 0 0 24px 0;
    }
    .step-header {
      background: var(--primary); color: #fff; border-radius: 14px 14px 0 0;
      padding: 18px 0; text-align: center; font-size: 1.3em; font-weight: bold;
      letter-spacing: .5px;
    }
    .progress-bar-bg {
      width: 90%; height: 8px; margin: 18px auto 10px auto;
      background: #eee; border-radius: 4px;
    }
    .progress-bar {
      height: 8px; border-radius: 4px;
      background: linear-gradient(90deg, var(--primary), #57e690);
      transition: width .3s;
    }
    .form-step { display: none; padding: 12px 28px 0 28px; }
    .form-step.active { display: block; }
    .input-group { margin-bottom: 18px;}
    label { font-weight: 500; display:block; margin-bottom: 6px; }
    input[type="text"], input[type="number"], input[type="tel"] {
      width: 100%; padding: 10px; border-radius: 6px;
      border: 1.5px solid #c7c7c7; font-size: 1em; margin-bottom: 2px;
      font-family: inherit; background: #f6f6fa;
    }
    textarea { width: 100%; border-radius: 6px; border: 1.5px solid #c7c7c7;
      padding: 10px; font-family: inherit; background: #f6f6fa;
    }
    .btn {
      font-family: inherit; font-size: 1.1em; border-radius: 8px;
      padding: 8px 28px; border: none; background: var(--accent); color: #fff;
      box-shadow: 0 1px 8px #0002; margin-top: 8px; cursor: pointer;
      transition: background .15s;
    }
    .btn:hover, .btn:active { background: #04723d; }
    .btn-outline {
      background: #fff; color: var(--primary); border: 2px solid var(--primary);
      margin-right: 12px;
    }
    .location-box, .camera-box {
      background: #f5fff4; border: 1.5px dashed #c9e5be;
      border-radius: 11px; padding: 18px 10px; margin-bottom: 18px; text-align: center;
    }
    .location-icon, .camera-icon {
      font-size: 2.5em; color: var(--accent); margin-bottom: 4px;
    }
    .mini-label { color: #666; font-size: 0.97em; margin-bottom: 3px;}
    .step-btn-row {
      display: flex; justify-content: space-between; margin-top: 20px;
    }
    .disabled { opacity: .6; pointer-events: none;}
    #map { width:100%; height: 230px; border-radius: 10px; margin: 12px 0;}
    .leaflet-control-attribution {display:none}
    .contact-box {
      text-align: center; margin: 32px auto 0 auto; color: #075329;
      font-size: 1.04em;
    }
    .footer-logo { height: 34px; margin: 16px 0 8px 0; cursor:pointer;}
    .footer-contact {
      color: #247c43; margin: 0 0 3px 0; font-size: 1em;
    }
    .footer-links {
      margin-top: 5px; color: #247c43;
    }
    .footer-links a { color: #1658c2; text-decoration: none; margin: 0 7px; }
    .footer-links a:hover { text-decoration: underline; }
    @media (max-width:500px) {
      .form-container { max-width:98vw; padding:0 }
      .form-step { padding: 10px 7vw 0 7vw;}
    }
  </style>
</head>
<body>
<header>
  <img src="logo.jpg" class="logo" alt="Enable Logo" onclick="window.open('https://enableearth.eco/', '_blank')"/>
  <div class="title">Enable Earth</div>
  <div class="subtitle">‡πÅ‡∏û‡∏•‡∏ï‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏£‡∏ß‡∏ö‡∏£‡∏ß‡∏°‡∏ã‡∏±‡∏á‡∏Ç‡πâ‡∏≤‡∏ß‡πÇ‡∏û‡∏î</div>
</header>
<div class="progress-bar-bg">
  <div id="progress-bar" class="progress-bar" style="width:25%"></div>
</div>
<div class="form-container">
  <!-- Step 1 -->
  <div class="form-step active" id="step1">
    <div class="step-header">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß</div>
    <div class="input-group">
      <label>‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</label>
      <input type="text" id="fullname" required>
    </div>
    <div class="input-group">
      <label>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå</label>
      <input type="tel" id="phone" pattern="[0-9]{9,10}" maxlength="10" required>
    </div>
    <div class="step-btn-row">
      <div></div>
      <button class="btn" onclick="gotoStep(2)">‡∏ñ‡∏±‡∏î‡πÑ‡∏õ</button>
    </div>
  </div>
  <!-- Step 2 -->
  <div class="form-step" id="step2">
    <div class="step-header">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏©‡∏ï‡∏£</div>
    <div class="input-group">
      <label>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÑ‡∏£‡πà</label>
      <input type="number" min="0.1" step="0.1" id="farm_area" required>
    </div>
    <div class="input-group">
      <label>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏®‡∏©‡∏ß‡∏±‡∏™‡∏î‡∏∏‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏ó‡∏¥‡πâ‡∏á‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡∏©‡∏ï‡∏£ (‡∏ï‡∏±‡∏ô)</label>
      <input type="number" min="0" step="0.01" id="carbon_credit" required>
    </div>
    <div class="input-group">
      <label>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</label>
      <textarea id="farm_detail" rows="2" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏ã‡∏±‡∏á‡∏Ç‡πâ‡∏≤‡∏ß‡πÇ‡∏û‡∏î‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡πá‡∏ö"></textarea>
    </div>
    <div class="step-btn-row">
      <button class="btn btn-outline" onclick="gotoStep(1)">‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö</button>
      <button class="btn" onclick="gotoStep(3)">‡∏ñ‡∏±‡∏î‡πÑ‡∏õ</button>
    </div>
  </div>
  <!-- Step 3 -->
  <div class="form-step" id="step3">
    <div class="step-header">‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÅ‡∏õ‡∏•‡∏á‡∏ô‡∏≤</div>
    <div class="location-box" id="locationBox">
      <div class="location-icon">üìç</div>
      <div id="location-status">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÅ‡∏õ‡∏•‡∏á‡∏ô‡∏≤</div>
      <div id="location-coord"></div>
      <div id="map"></div>
      <button class="btn" onclick="setCurrentLocation(event)">‡πÉ‡∏ä‡πâ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô</button>
      <div style="font-size:.92em; color:#757;">‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô marker ‡∏ö‡∏ô‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏´‡∏≤‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á</div>
    </div>
    <div class="step-btn-row">
      <button class="btn btn-outline" onclick="gotoStep(2)">‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö</button>
      <button class="btn" onclick="gotoStep(4)" id="btn-step3-next" disabled>‡∏ñ‡∏±‡∏î‡πÑ‡∏õ</button>
    </div>
  </div>
 
 <!-- ... ‡∏´‡∏ô‡πâ‡∏≤ Step 4 ... -->
<div class="form-step" id="step4">
  <div class="step-header">‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡∏û‡∏∑‡∏ä‡∏ú‡∏•</div>
  <div class="camera-box">
    <div class="camera-icon">üì∑</div>
    <div id="camera-status">
      ‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡∏ã‡∏±‡∏á‡∏Ç‡πâ‡∏≤‡∏ß‡πÇ‡∏û‡∏î‡πÉ‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏ô‡∏≤‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì<br>
      ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡∏ó‡∏µ‡∏°‡∏á‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡∏ã‡∏±‡∏á‡∏Ç‡πâ‡∏≤‡∏ß‡πÇ‡∏û‡∏î
    </div>
    <div style="margin:16px 0;">
      <label>
        <input type="file" id="image-file" accept="image/*" style="display:none">
        <button type="button" class="btn btn-outline" onclick="document.getElementById('image-file').click()">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á</button>
      </label>
      <label>
        <input type="file" id="image-capture" accept="image/*" capture="environment" style="display:none">
        <button type="button" class="btn" style="margin-left:8px;" onclick="document.getElementById('image-capture').click()">‡∏ñ‡πà‡∏≤‡∏¢‡∏†‡∏≤‡∏û</button>
      </label>
     // <label>
     // <input type="file" id="image" accept="image/*">
     // <button type="button" id="camera-btn" style="margin-left:10px;">‡∏ñ‡πà‡∏≤‡∏¢‡∏†‡∏≤‡∏û</button>
     // <input type="file" id="camera-capture" accept="image/*" capture="environment" style="display:none;">
     // <label>
    </div>
    <div id="preview-img"></div>
  </div>
  <div class="step-btn-row">
    <button class="btn btn-outline" onclick="gotoStep(3)">‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö</button>
    <button class="btn" onclick="submitForm(event)">‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
  </div>
</div>



  
</div>
<div class="contact-box">
  <img src="logo.png" class="footer-logo" onclick="window.open('https://enableearth.eco/','_blank')"/><br>
  <span class="footer-contact">‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤: <a href="mailto:contact@enableearth.eco">contact@enableearth.eco</a></span><br>
  <div class="footer-links">
    <a href="https://www.facebook.com/EnableEarthCarbonRemoval/" target="_blank">Facebook</a> | 
    <a href="https://m.me/EnableEarthCarbonRemoval/" target="_blank">Messenger</a>
  </div>
</div>
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

<link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
<script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>

<script>
let selectedImageFile = null; // <-- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ï‡∏±‡∏ß‡∏ô‡∏µ‡πâ‡πÑ‡∏ß‡πâ‡πÄ‡∏•‡∏¢
// 1. ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå (‡∏à‡∏≤‡∏Å‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå)
document.getElementById('image').addEventListener('change', function(e){
  if (e.target.files && e.target.files[0]) {
    selectedImageFile = e.target.files[0];
    document.getElementById('camera-status').innerText = '‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢!';
  }
});

// 2. ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏°‡∏ñ‡πà‡∏≤‡∏¢‡∏†‡∏≤‡∏û ‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏•‡πâ‡∏≠‡∏á
document.getElementById('camera-btn').addEventListener('click', function() {
  document.getElementById('camera-capture').click();
});

// 3. ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ñ‡πà‡∏≤‡∏¢‡∏†‡∏≤‡∏û‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
document.getElementById('camera-capture').addEventListener('change', function(e){
  if (e.target.files && e.target.files[0]) {
    selectedImageFile = e.target.files[0];
    document.getElementById('camera-status').innerText = '‡∏ñ‡πà‡∏≤‡∏¢‡∏†‡∏≤‡∏û‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢!';
  }
});
let currentStep = 1;
// ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÅ‡∏õ‡∏•‡∏á‡∏ô‡∏≤ (map)
let userLocation = { latitude: 19.11, longitude: 99.47 };
let map, marker, mapReady = false;

function gotoStep(step) {
  event.preventDefault();
  if (step > 1 && !validateStep(currentStep)) return;
  for (let i = 1; i <= 4; i++) {
    document.getElementById('step'+i).classList.remove('active');
  }
  document.getElementById('step'+step).classList.add('active');
  currentStep = step;
  document.getElementById('progress-bar').style.width = (step*25)+'%';
  if(step === 3 && !mapReady) initMap();
  if(step === 3) setTimeout(()=>map.invalidateSize(), 350);
}

function initMap() {
  mapReady = true;
  map = L.map('map').setView([userLocation.latitude, userLocation.longitude], 15);
  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);
  marker = L.marker([userLocation.latitude, userLocation.longitude], {draggable:true}).addTo(map);
  marker.on('dragend', function(e){
      let pos = marker.getLatLng();
      userLocation.latitude = pos.lat;
      userLocation.longitude = pos.lng;
      updateLocText(true);
  });

  // ‡πÄ‡∏û‡∏¥‡πà‡∏° geocoder control
  L.Control.geocoder({
    defaultMarkGeocode: false,
    placeholder: "‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‚Ä¶"
  })
  .on('markgeocode', function(e) {
    const center = e.geocode.center;
    map.setView(center, 17);
    marker.setLatLng(center); // ‡∏Ç‡∏¢‡∏±‡∏ö marker ‡πÑ‡∏õ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÉ‡∏´‡∏°‡πà
    userLocation.latitude = center.lat;
    userLocation.longitude = center.lng;
    updateLocText(true);
    document.getElementById('btn-step3-next').disabled = false;
  })
  .addTo(map);

  updateLocText(false);
  document.getElementById('btn-step3-next').disabled = false;
}


function updateLocText(success=true){
  document.getElementById('location-status').innerHTML = success 
    ? '<span style="color:green;font-weight:600;">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÅ‡∏•‡πâ‡∏ß!</span>'
    : '‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô marker ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô';
  document.getElementById('location-coord').innerHTML =
    '‡∏•‡∏∞‡∏ï‡∏¥‡∏à‡∏π‡∏î: '+userLocation.latitude+'<br>‡∏•‡∏≠‡∏á‡∏à‡∏¥‡∏à‡∏π‡∏î: '+userLocation.longitude;
}

// ‡πÉ‡∏ä‡πâ GPS
function setCurrentLocation(e) {
  e.preventDefault();
  const locStatus = document.getElementById('location-status');
  locStatus.innerText = "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á...";
  if (!navigator.geolocation) {
    locStatus.innerHTML = '<span style="color:red;">‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö GPS</span>';
    return;
  }
  navigator.geolocation.getCurrentPosition(
    (pos) => {
      userLocation.latitude = pos.coords.latitude;
      userLocation.longitude = pos.coords.longitude;
      marker.setLatLng([userLocation.latitude, userLocation.longitude]);
      map.setView([userLocation.latitude, userLocation.longitude], 16);
      updateLocText(true);
      document.getElementById('btn-step3-next').disabled = false;
    },
    (err) => {
      locStatus.innerHTML = '<span style="color:red;">‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏´‡∏≤‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÑ‡∏î‡πâ ('+err.message+')</span>';
    }
  );
}

function validateStep(step) {
  if(step===1) {
    if(!document.getElementById('fullname').value.trim()) {
      alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•'); return false;
    }
    if(!/^[0-9]{9,10}$/.test(document.getElementById('phone').value.trim())) {
      alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á'); return false;
    }
  }
  if(step===2) {
    if(!document.getElementById('farm_area').value.trim()) {
      alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÑ‡∏£‡πà'); return false;
    }
    if(!document.getElementById('carbon_credit').value.trim()) {
      alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏®‡∏©‡∏ß‡∏±‡∏™‡∏î‡∏∏‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏ó‡∏¥‡πâ‡∏á'); return false;
    }
  }
  if(step===3) {
    if(!userLocation.latitude || !userLocation.longitude) {
      alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏∞‡∏ö‡∏∏‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÅ‡∏õ‡∏•‡∏á‡∏ô‡∏≤'); return false;
    }
  }
  return true;
}

function submitForm(e){
  e.preventDefault();
  if(!validateStep(4)) return;
  const data = new FormData();
  data.append('plot_id', document.getElementById('fullname').value.trim());
  data.append('phone', document.getElementById('phone').value.trim());
  data.append('farm_area', document.getElementById('farm_area').value.trim());
  data.append('carbon_credit', document.getElementById('carbon_credit').value.trim());
  data.append('farm_detail', document.getElementById('farm_detail').value.trim());
  data.append('latitude', userLocation.latitude);
  data.append('longitude', userLocation.longitude);
  //const imgFile = document.getElementById('image').files[0];
 // if(imgFile) data.append('image', imgFile);

  if(selectedImageFile) data.append('image', selectedImageFile);
  
  // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô URL ‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö Google Apps Script ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
  const apiURL = 'https://script.google.com/macros/s/AKfycbwjsnvnfVmURYof6Gb0xJrPxjbwSs6x7jjemDylWxw8J__SxnLale4BODtp0Vt8BNLgsQ/exec';
  fetch(apiURL, { method:'POST', body:data })
    .then(r => r.text())
    .then(t => {
      alert('‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏£‡πà‡∏ß‡∏°‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£!');
      window.location.reload();
    }).catch(e=>{
      alert('‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà: '+e.message);
    });
}
</script>
</body>
</html>
