<form id="dataForm">
  <input type="text" name="plot_id" placeholder="Plot ID" required><br>
  <input type="number" step="0.01" name="carbon_credit" placeholder="Carbon Credit" required><br>
  <input type="text" name="longitude" placeholder="Longitude" required><br>
  <input type="text" name="latitude" placeholder="Latitude" required><br>
  <button type="submit">Submit</button>
</form>
<script>
const apiURL = 'https://script.google.com/macros/s/AKfycbyeZ8BidtOhvZzjBQh8bFE-8op_50BnLZSgWqciWVxEoH9MieFZJhqAoNHafOInWpyCKw/exec'; // เปลี่ยนเป็น /exec และของ deployment ใหม่

document.getElementById('dataForm').onsubmit = async function(e) {
  e.preventDefault();
  const formData = new FormData(e.target);
  try {
    await fetch(apiURL, {
      method: 'POST',
      body: formData // *** ห้ามมี headers ***
    });
    alert('ส่งข้อมูลสำเร็จ!');
    document.getElementById('dataForm').reset();
  } catch(err) {
    alert('ส่งข้อมูลไม่สำเร็จ');
  }
};
</script>
